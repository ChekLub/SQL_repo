# SQL_repo
задачи на SQL

# SQL_dfct_phone
Краткое описание:
Есть таблица глобальных клиентов (физ и юр лиц).
Есть таблица связи по ID глобальных клиентов и локальных клиентов (из других систем источников).
Есть таблица контактов клиентов (локальных и глобальных), представляющая собой хранилище, то есть исторический срез.
Необходимо:
  1) Разработать SQL-скрипт построения объекта-приёмника, в котором будет содержаться история изменения телефонов глобальных клиентов с учетом их связи с локальными ID клиентов
  2) Провести дедупликацию телефонов
  3) Определить лучший номер телефона для клиента
  4) Описать алгоритм построения объекта-приёмника в формате ТИС (Требования к Информационной Системе)
  5) Сформировать маппинг построения объекта в формате карты отображения.

Задача выполняется в синтаксисе СУБД PostgreSQL.
## Задание и описание таблиц в ходе решения.odt 
- файл с подробным описанием задачи и таблиц, получаемых в ходе решения.
## dfct_phone_all_ddl.sql 
- ddl скрипты для наполнения исходных таблиц с клиентами и номерами телефонов.
## SQL скрипт для dfct_phone.txt 
- скрипт для выполнения основной задачи.
## dfct_phone_карта отображения.xlsx 
- карта отображения s2t.


